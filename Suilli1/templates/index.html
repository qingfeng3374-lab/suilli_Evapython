{% extends "base.html" %}

{% block title %}首页 - {{ super() }}{% endblock %}

{% block content %}
    <!-- 欢迎区域 -->
    <section class="mb-16">
        <div class="flex flex-col md:flex-row items-center gap-8">
            <div class="md:w-1/2">
                <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-bold leading-tight mb-4">
                    轻松学习 <span class="text-primary">Python</span> 编程
                </h1>
                <p class="text-lg text-dark-300 dark:text-light-200 mb-8 max-w-xl">
                    Suilli 是一个专业的 Python 代码评测平台，提供丰富的编程题目和即时反馈，帮助你提升编程技能。
                </p>
                <div class="flex flex-wrap gap-4">
                    <button class="bg-primary hover:bg-primary/90 text-white font-medium px-8 py-3 rounded-lg transition-all shadow-lg hover:shadow-primary/30 btn-effect">
                        <a href="{{ url_for('problem_index', username=session.username, user_id=session.user_id) }}">开始练习</a> <i class="fa-solid fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
            <div class="md:w-1/2 relative">
                <div class="bg-white dark:bg-dark-300 rounded-xl shadow-elevation-2 p-4 border border-gray-100 dark:border-dark-100 transform rotate-2 hover:rotate-0 transition-transform duration-300 theme-transition">
                    <div class="flex items-center space-x-2 mb-3">
                        <div class="w-3 h-3 rounded-full bg-danger"></div>
                        <div class="w-3 h-3 rounded-full bg-warning"></div>
                        <div class="w-3 h-3 rounded-full bg-secondary"></div>
                    </div>
                    <pre class="font-code text-sm bg-gray-50 dark:bg-dark-100 rounded-lg p-4 overflow-x-auto theme-transition">
<code class="text-dark-300 dark:text-light-200">def fibonacci(n):
    if n <= 1:
        return n
    else:
        return fibonacci(n-1) + fibonacci(n-2)

# 计算前10个斐波那契数
for i in range(10):
    print(f"Fibonacci({i}) = {fibonacci(i)})</code>
</pre>
                </div>
                <div class="absolute -bottom-6 -left-6 bg-white dark:bg-dark-300 rounded-xl shadow-elevation-2 p-4 border border-gray-100 dark:border-dark-100 transform -rotate-3 hover:rotate-0 transition-transform duration-300 theme-transition">
                    <div class="flex items-center space-x-2 mb-3">
                        <div class="w-3 h-3 rounded-full bg-danger"></div>
                        <div class="w-3 h-3 rounded-full bg-warning"></div>
                        <div class="w-3 h-3 rounded-full bg-secondary"></div>
                    </div>
                    <pre class="font-code text-sm bg-gray-50 dark:bg-dark-100 rounded-lg p-4 overflow-x-auto theme-transition">
<code class="text-dark-300 dark:text-light-200">def factorial(n):
    if n == 0:
        return 1
    else:
        return n * factorial(n-1)

# 计算5的阶乘
result = factorial(5)
print(f"5的阶乘是: {result}")</code>
</pre>
                </div>
            </div>
        </div>
    </section>

    <!-- 功能亮点 -->
    <section class="mb-16">
        <div class="text-center mb-12">
            <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">为什么选择 Suilli？</h2>
            <p class="text-dark-300 dark:text-light-200 max-w-2xl mx-auto">我们提供专业的 Python 编程学习环境，帮助你快速掌握编程技能</p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="bg-white dark:bg-dark-300 rounded-xl shadow-elevation-1 p-6 card-hover theme-transition">
                <div class="w-14 h-14 bg-primary/10 rounded-lg flex items-center justify-center mb-6">
                    <i class="fa-solid fa-code text-primary text-2xl"></i>
                </div>
                <h3 class="text-xl font-semibold mb-3">实时代码评测</h3>
                <p class="text-dark-300 dark:text-light-200">提交代码后立即获得评测结果，查看详细的测试用例和性能分析。</p>
            </div>
            <div class="bg-white dark:bg-dark-300 rounded-xl shadow-elevation-1 p-6 card-hover theme-transition">
                <div class="w-14 h-14 bg-secondary/10 rounded-lg flex items-center justify-center mb-6">
                    <i class="fa-solid fa-book-open text-secondary text-2xl"></i>
                </div>
                <h3 class="text-xl font-semibold mb-3">丰富的题库</h3>
                <p class="text-dark-300 dark:text-light-200">从基础语法到高级算法，各种难度级别的题目满足不同学习阶段的需求。</p>
            </div>
            <div class="bg-white dark:bg-dark-300 rounded-xl shadow-elevation-1 p-6 card-hover theme-transition">
                <div class="w-14 h-14 bg-warning/10 rounded-lg flex items-center justify-center mb-6">
                    <i class="fa-solid fa-chart-line text-warning text-2xl"></i>
                </div>
                <h3 class="text-xl font-semibold mb-3">学习进度追踪</h3>
                <p class="text-dark-300 dark:text-light-200">详细记录你的学习历程和进步情况，帮助你更好地规划学习路径。</p>
            </div>
        </div>
    </section>

    <!-- 代码编辑器区域 -->
    <section id="editor-section" class="mb-16">
        <div class="text-center mb-12">
            <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">在线代码编辑器</h2>
            <p class="text-dark-300 dark:text-light-200 max-w-2xl mx-auto">在我们的在线编辑器中编写、运行和测试你的 Python 代码</p>
        </div>
        <div class="bg-white dark:bg-dark-300 rounded-xl shadow-elevation-2 overflow-hidden theme-transition">
            <!-- 工具栏 -->
            <div class="bg-gray-50 dark:bg-dark-100 border-b border-gray-200 dark:border-gray-700 px-6 py-3 flex flex-wrap items-center justify-between gap-4 theme-transition">
                <div class="flex items-center space-x-4">
                    <button id="run-btn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors btn-effect">
                        <i class="fa-solid fa-play mr-2"></i> 运行代码
                    </button>
                    <button id="save-btn" class="bg-gray-200 dark:bg-dark-100 text-dark-300 dark:text-light-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-dark-200 transition-colors btn-effect">
                        <i class="fa-solid fa-save mr-2"></i> 保存
                    </button>
                    <button id="reset-btn" class="bg-gray-200 dark:bg-dark-100 text-dark-300 dark:text-light-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-dark-200 transition-colors btn-effect">
                        <i class="fa-solid fa-undo mr-2"></i> 重置
                    </button>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <button id="examples-btn" class="bg-gray-200 dark:bg-dark-100 text-dark-300 dark:text-light-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-dark-200 transition-colors btn-effect">
                            <i class="fa-solid fa-file-code mr-2"></i> 示例代码
                            <i class="fa-solid fa-chevron-down ml-2 text-xs"></i>
                        </button>
                        <div id="examples-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white dark:bg-dark-300 rounded-lg shadow-elevation-2 z-10 theme-transition">
                            <div class="py-2">
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-100 text-dark-300 dark:text-light-200 example-item" data-example="factorial">阶乘计算</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 编辑器和输出区域 -->
            <div class="flex flex-col md:flex-row h-[600px]">
                <!-- 左侧代码编辑区域 -->
                <div class="w-full md:w-1/2 border-b md:border-b-0 md:border-r border-gray-200 dark:border-gray-700 theme-transition">
                    <div class="bg-gray-50 dark:bg-dark-100 border-b border-gray-200 dark:border-gray-700 px-4 py-2 flex justify-between items-center theme-transition">
                        <h3 class="font-medium text-dark-300 dark:text-light-200">代码编辑器</h3>
                        <div class="flex space-x-2">
                            <button id="copy-code-btn" class="text-dark-300 dark:text-light-200 hover:text-primary transition-colors">
                                <i class="fa-solid fa-copy"></i>
                            </button>
                            <button id="fullscreen-btn" class="text-dark-300 dark:text-light-200 hover:text-primary transition-colors">
                                <i class="fa-solid fa-expand"></i>
                            </button>
                        </div>
                    </div>
                    <div id="editor-container" class="h-full bg-gray-900">
                        <!-- Monaco Editor 将在这里加载 -->
                    </div>
                </div>

                <!-- 右侧输出区域 -->
                <div class="w-full md:w-1/2">
                    <div class="bg-gray-50 dark:bg-dark-100 border-b border-gray-200 dark:border-gray-700 px-4 py-2 flex justify-between items-center theme-transition">
                        <h3 class="font-medium text-dark-300 dark:text-light-200">运行结果</h3>
                        <div class="flex space-x-2">
                            <button id="clear-output-btn" class="text-dark-300 dark:text-light-200 hover:text-primary transition-colors">
                                <i class="fa-solid fa-trash"></i>
                            </button>
                            <button id="copy-output-btn" class="text-dark-300 dark:text-light-200 hover:text-primary transition-colors">
                                <i class="fa-solid fa-copy"></i>
                            </button>
                        </div>
                    </div>
                    <div id="output-container" class="h-full bg-gray-900 p-4 overflow-auto">
                        <div id="output-content" class="font-code text-sm">
                            <div class="output-line text-green-400">欢迎使用Python代码编辑器</div>
                            <div class="output-line text-green-400">编辑左侧代码并点击"运行代码"按钮查看结果</div>
                            <div class="output-line"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
{% endblock %}